<ul style="margin-left: 10px;padding: 0;" id="main-view">
  {{list using="$#charts" as="$item"}}
    {{list:item}}
    <li class="chart" id="chart_{$item.id}"></div>
      <div class="chart_graph"></div>
      <div class="chart-to-full" onclick="window.chart.onFull({$item.id},{$item.counter_id});return false;"></div>
      <div class="chart-toolbox" onclick="showToolbox(this);return false;"></div>
      <div class="toolbox">
        <ul>
          <li onclick="window.chart.changeView(2,{$item.id});return false;">Линия</li>
          <li onclick="window.chart.changeView(0,{$item.id});return false;">Сплайн</li>
          <li onclick="window.chart.changeView(3,{$item.id});return false;">Область</li>
          <li onclick="window.chart.changeView(1,{$item.id});return false;">Столбцы</li>
          <li>Экспорт CSV</li>
          <li onclick="window.main.deleteChart({$item.id});return false;">Удалить</li>
        </ul>
      </div>
    </li>
    {{/list:item}}
  {{/list}}     
  <li class="chart sortable-disabled" id="chart_add" style="list-style: none;"><h1>Добавьте диаграмму</h1><img src="images/addChart.png" width="200" height="200" style="top:30px;position: relative;"/></li>
</ul>

<script>
  window.chart.addEvents();
  
  function showToolbox(item) {
    var box = $(item).parent().children(".toolbox");
    $(box).css('display','block');
  }
</script>